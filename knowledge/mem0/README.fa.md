# نحوه ساخت حافظه بلند مدت برای عوامل AI با MEM0

## شروع سریع
1. یک Venv با Python 3.11+ ایجاد کنید
2. الزامات را نصب کنید
3. نمونه های کد را اجرا کنید
4. قبل از اجرای مثال در پوشه `oss" ، docker را اجرا کنید.

## mem0 چیست؟

MEM0 یک معماری حافظه است که عوامل هوش مصنوعی را قادر می سازد مکالمات منسجم و غنی از نظر متنی را در دوره های طولانی حفظ کنند.بر خلاف رویکردهای سنتی که با ویندوزهای زمینه ثابت مبارزه می کنند ، MEM0 به طور هوشمندانه استخراج ، ادغام و بازیابی فقط برجسته ترین اطلاعات از مکالمات را بازیابی می کند.

بیشتر بدانید در: https://mem0.ai/research

### ویژگی های کلیدی

- ** خط لوله حافظه دو فاز **: فاز استخراج حقایق کلیدی را از مکالمات ضبط می کند ، در حالی که مرحله بروزرسانی هوشمندانه پایگاه دانش را مدیریت می کند
- ** تشکیل حافظه انتخابی **: فقط اطلاعات مهم را به جای کل بخش های مکالمه ذخیره می کند
- ** عملیات هوشمند **: به طور خودکار تعیین می کند که آیا می توانید خاطرات را اضافه کنید ، به روز کنید یا حذف کنید
- ** بازیابی کارآمد **: از تعبیهات بردار برای یافتن سریع خاطرات مربوطه استفاده می کند
- ** گزینه پیشرفته نمودار **: نوع MEM0ᵍ خاطرات را به عنوان یک نمودار با برچسب کارگردانی برای استدلال رابطه پیچیده نشان می دهد

### مزایای عملکرد

- 26 ٪ دقت بالاتر در مقایسه با سیستم حافظه OpenAi
- 91 ٪ تأخیر پایین تر از رویکردهای کامل متن
- 90 ٪ پس انداز توکن ، و آن را در مقیاس مقرون به صرفه می کند

MEM0 حافظه پایدار و ساختاری را هم قدرتمند و هم عملی ایجاد می کند ، و دستیاران هوش مصنوعی را که واقعاً ترجیحات کاربر را به خاطر می آورند ، سازگار با زمینه های در حال تحول و حفظ تعامل منسجم در چندین جلسه می کند.

## مؤلفه های اصلی

### اعلان ها

شما می توانید موارد اصلی را که سیستم حافظه Power Mem0 را در اینجا مشاهده می کنید مشاهده کنید: [prompts.py] (https://github.com/mem0ai/mem0/blob/main/mem0/configs/prompts.py)

1. ** memory_answer_prompt **: سیستم را راهنمایی می کند تا به سؤالات بر اساس خاطرات بازیابی پاسخ دهد ، اطمینان حاصل شود که پاسخ ها حتی در صورت یافتن خاطرات مربوطه ، دقیق ، مختصر و همیشه مفید هستند.

2. ** FACT_RETRIEVAL_PROMPT **: فاز استخراج که حقایق ساختاری را از مکالمات استخراج می کند.این برنامه ترجیحات شخصی ، جزئیات ، برنامه ها ، فعالیت ها ، اطلاعات بهداشتی و جزئیات حرفه ای را از مکالمات ، سازماندهی آنها در قالب لیست JSON مشخص می کند.

3. ** DEFAULT_UPDATE_MEMORY_PROMPT **: مرحله بروزرسانی را کنترل می کند ، نشان می دهد که چگونه سیستم حافظه را از طریق چهار عملیات مدیریت می کند:
- افزودن: ورودی های جدید حافظه را با شناسه های جدید ایجاد می کند
- بروزرسانی: ضمن حفظ شناسه خاطرات موجود را اصلاح می کند
- حذف: خاطرات متناقض را حذف می کند
- هیچ: در صورت وجود اطلاعات هیچ تغییری ایجاد نمی کند

4. ** Procedural_Memory_System_Prompt **: خلاصه های جامع از تعامل عامل و انسان با ابرداده ساختاری را ایجاد می کند.

تابع `get_update_memory_messages ()` خاطرات بازیابی شده را با حقایق جدید ترکیب می کند و از منطق بروزرسانی برای حفظ یک فروشگاه حافظه منسجم و غیرقانونی استفاده می کند.

### پیکربندی

MEM0 گزینه های پیکربندی گسترده ای را برای سفارشی کردن رفتار خود با توجه به نیاز شما ارائه می دهد.این تنظیمات در اجزای مختلف مانند فروشگاه های بردار ، مدل های زبان ، تعبیه کننده و فروشگاه های نمودار قرار دارد.

#### مثال کامل پیکربندی

`` `پایتون
# پیکربندی کامل
پیکربندی = {
"Vector_Store": {
"ارائه دهنده": "Qdrant" ،
"پیکربندی": {"میزبان": "localhost" ، "پورت": 6333}
} ،
"llm": {
"ارائه دهنده": "Openai" ،
"پیکربندی": {"api_key": "your-api-key" ، "مدل": "gpt-4"} ،
} ،
"تعبیه": {
"ارائه دهنده": "Openai" ،
"پیکربندی": {"api_key": "your-api-key" ، "مدل": "متن-ام تعبیه شده -3-کوچک"} ،
} ،
"Graph_store": {
"ارائه دهنده": "neo4j" ،
"پیکربندی": {
"url": "neo4j+s: // your-instance" ،
"نام کاربری": "neo4j" ،
"رمز عبور": "رمز عبور" ،
} ،
} ،
"History_db_path": "/path/to/history.db" ،
"نسخه": "v1.1" ،
"custom_fact_extraction_prompt": "سریع سفارشی اختیاری برای استخراج واقعیت برای حافظه" ،
"custom_update_memory_prompt": "سریع سریع سفارشی FOR به روزرسانی حافظه "،
}
`` `

سپس می توانید حافظه را از طریق:

`` `پایتون
پیکربندی = {
"Vector_Store": {
"ارائه دهنده": "Qdrant" ،
"پیکربندی": {
"میزبان": "localhost" ،
"بندر": 6333 ،
} ،
} ،
}
M = Memory.from_config (پیکربندی)
`` `

### مؤلفه های پشتیبانی شده

#### llms
MEM0 شامل پشتیبانی داخلی برای مدل های مختلف زبان بزرگ محبوب است.حافظه می تواند از LLM ارائه شده توسط کاربر استفاده کند و از استفاده کارآمد برای نیازهای خاص اطمینان حاصل کند.

[در مورد پشتیبانی LLM بیشتر بدانید] (https://docs.mem0.ai/compentents/llms/overview)

پایگاه داده های بردار ####
MEM0 شامل پشتیبانی داخلی برای پایگاه داده های مختلف محبوب است.حافظه می تواند از پایگاه داده ارائه شده توسط کاربر استفاده کند و از استفاده کارآمد برای نیازهای خاص اطمینان حاصل کند.

[در مورد پشتیبانی از پایگاه داده بردار بیشتر بدانید] (https://docs.mem0.ai/compentents/vectords/overview)


## چگونه کار می کند

### 1. اضافه کردن خاطرات

هنگامی که شما با `memory.add ()` `تماس می گیرید ، در اینجا اتفاق می افتد:

`` `پایتون
# استفاده اساسی
memory.add (پیام ها ، user_id = "user123")
`` `

این روند از این مراحل پیروی می کند:

1. ** تجزیه پیام **
- پیام ها به یک قالب مناسب برای پردازش تجزیه می شوند
- پیام های سیستم فیلتر می شوند
- منبع: `mem0/حافظه/main.py`

2. ** استخراج واقعیت **
- سیستم از LLM برای استخراج حقایق کلیدی از مکالمه استفاده می کند
- حقایق در قالب JSON ساخته شده اند
- منبع: `mem0/حافظه/main.py`

3. ** مدیریت حافظه **
- حقایق جدید با خاطرات موجود مقایسه می شوند
- سیستم تصمیم می گیرد که آیا:
- خاطرات جدید اضافه کنید
- خاطرات موجود را به روز کنید
- خاطرات متناقض را حذف کنید
- هیچ کاری نکنید (هیچ)
- منبع: `mem0/حافظه/main.py`

4. ** ذخیره سازی **
- خاطرات برای جستجوی معنایی در یک پایگاه داده بردار ذخیره می شوند
- ذخیره سازی نمودار اختیاری برای اطلاعات رابطه ای
- ردیابی تاریخ برای همه تغییرات

### 2. بازیابی خاطرات

خاطرات را می توان از سه طریق بازیابی کرد:

`` `پایتون
# با شناسه دریافت کنید
Memory.get (Memory_ID)

# معنایی جستجو
Memory.Search (query = "شما در مورد من چه می دانید؟" ، user_id = "user123")

# همه خاطرات را بدست آورید
memory.get_all (user_id = "user123")
`` `

## غذای کلیدی

1. ** ذخیره هوشمند **: فقط مکالمات خام را ذخیره نکنید - واقعیت های معنی دار را استخراج و ذخیره کنید
2. ** جستجوی معنایی **: برای فعال کردن جستجوی زبان طبیعی از تعبیهات استفاده کنید
3. ** مدیریت حافظه **: یک سیستم را برای رسیدگی به به روزرسانی ها و تضادها پیاده سازی کنید
4. ** ردیابی تاریخ **: تغییرات را برای اشکال زدایی و حسابرسی پیگیری کنید