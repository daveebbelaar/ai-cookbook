# سرور MCP با Docker

این پروژه نحوه اجرای سرور MCP (پروتکل کنترل مدل) را با استفاده از Docker نشان می دهد.سرور یک ابزار ماشین حساب ساده را ارائه می دهد که توسط مشتری قابل دسترسی است.

## پیش نیازها

- Docker نصب شده بر روی سیستم شما
- git (برای کلون کردن مخزن)

## ساختار پروژه

- `server.py`: اجرای سرور MCP با یک ابزار ماشین حساب ساده
- `client.py`: مشتری که به سرور متصل می شود و ابزار ماشین حساب را فراخوانی می کند
- `Dockerfile`: دستورالعمل ساخت تصویر Docker
- `الزامات. txt`: وابستگی های پایتون برای پروژه

## در حال اجرا با docker

### مرحله 1: تصویر Docker را بسازید

`` `bash
Docker Build -t MCP -Server.
`` `

### مرحله 2: ظرف Docker را اجرا کنید

`` `bash
Docker Run -P 8050: 8050 MCP -Server
`` `

با این کار سرور MCP در داخل یک ظرف Docker شروع می شود و آن را در پورت 8050 قرار می دهد.

## اجرای مشتری

پس از اجرای سرور ، می توانید مشتری را در یک ترمینال جداگانه اجرا کنید:

`` `bash
python client.py
`` `

مشتری به سرور متصل می شود ، ابزارهای موجود را لیست می کند و برای اضافه کردن 2 و 3 با ابزار ماشین حساب تماس می گیرد.

## عیب یابی

اگر با مشکلات اتصال روبرو شدید:

1. ** بررسی کنید که آیا سرور در حال اجرا است **: اطمینان حاصل کنید که ظرف Docker با `Docker PS` کار می کند.

2. ** تأیید نقشه درگاه **: اطمینان حاصل کنید که پورت به درستی با "Docker PS" یا با بررسی خروجی دستور "Docker Run" نقشه برداری شده است.

3. ** گزارش های سرور را بررسی کنید **: برای دیدن اینکه آیا خطایی وجود دارد ، سیاهههای مربوط به سرور را با سیاهههای docker <laoneer_id> مشاهده کنید.

4. ** اتصال میزبان **: سرور پیکربندی شده است تا به جای `127.0.0.1` به` 0.0.0.0` متصل شود تا آن را از خارج از ظرف در دسترس قرار دهد.اگر هنوز مشکلی دارید ، ممکن است نیاز به بررسی تنظیمات فایروال خود داشته باشید.

5. ** مشکلات شبکه **: اگر شما در حال کار در یک دستگاه از راه دور هستید ، اطمینان حاصل کنید که پورت از دستگاه مشتری خود قابل دسترسی است.

## یادداشت ها

- سرور برای استفاده از حمل و نقل SSE (رویدادهای سرور-سرور) پیکربندی شده و در پورت 8050 گوش می دهد.
- مشتری در `http: // localhost: 8050/SSE` به سرور متصل می شود.
- اطمینان حاصل کنید که سرور قبل از شروع مشتری در حال اجرا است.